

## 3.08 锁死问题
进程管理是操作系统的核心，但如果操作不当，就会出现死锁的问题。

如果一个进程在等待意见不可能发生的事，则进程就会死锁。而如果一个或多个进程产生死多，就会造成系统死锁

## 3.10 银行家算法
死锁的避免：
1. 银行家算法
2. 有序资源的分配法

### 银行家算法
其分配资源的原则：
- 当一个进程对资源的最大需求量不超过系统中的资源数时可以接纳该进程
- 进程可以分期请求资源，但请求的总数不能超过最大需求量
- 当系统现有的资源不能满足进程尚需资源数时，对进程的请求可以推迟分配，但总能使进程再有限的事件里得到资源

例题：

## 3.11 分区存储组织

## 3.12 页式存储、段式存储、段页式存储

### 页式存储
- 优点：利用率高，碎片小，分配及管理简单
- 缺点：增加了系统开销，可能产生抖动现象

### 段式存储

- 优点： 多道程序共享内存，各段程序修改互不影响
- 缺点：内存利用率低，内存碎片浪费大


### 段页式存储
结合页式和段式

## 3.13 页面淘汰算法
- 最优算法
- 随机算法
- 先进先出FIFO
- 最近最少使用算法

## 3.14 页面淘汰算法练习
https://www.bilibili.com/video/BV1rW411j7e7?p=35

## 树形文件目录

- 相对路径
- 绝对路径
- 全文件名： 绝对路径+文件名

树形结构主要是区分相对路径和绝对路径

## 空闲存储空间管理

- 位示图法： 对每隔物理空间用一位标识，为1则使用；为0则空闲，形成一张位示图

## 设备管理

### 设备的分类方式
- 按数据组织分类：块设备、字符设备
- 资源分类角度分类：独占设备、共享设备和虚拟设备
- 数据传输率分类：低速设备、中速设备、高速设备

- I/O软件层级结构

结构：
    - 用户进程
    - 设备无关软件
    - 设备驱动程序
    - 终端处理程序
    - 硬件

## 输入输出技术

- 程序控制(查询)方式
- 设备中断方式：
    中断响应时间
    中断处理事件
    中断向量：提供中断服务程序的入口地址

- DMA方式（直接主存存取）
  - 

- 在一个总线周期结束之后，CPU会响应DMA请求开始读取数据：


## 虚设备和Spooling技术
一台实际的物理设备，例如打印机，在同一时间只能由一个进程是哟，其他进程只能等待，切不知道什么时候打印机空闲，此时，极大的浪费了外设的工作效率

引入spooling技术，就是在外设上建立两个数据缓冲区，分别称为输入并和输出并，这样无论多少进程，都可以共用一台打印机，只需要将打印命令发出，数据就会排队存储在缓冲区中，打印机会自动按顺序打印，实现了物理外设的共享，使得每隔进程都感觉在使用这个打印机，这就是物理设备的虚拟化

## 磁盘结构


## 微内核操作系统


用户态：客户进程、进程服务器、终端服务器、文件服务器、存储服务器

核心态：

### 单体内核

将图形，设备驱动及文件系统等功能全部在内核中实现，运行在内核状态和同一地址空间

减少进程通信和状态切换的系统开销，获得较高的运行效率

内核庞大，占用资源较多且不易剪裁

系统稳定性和安全性不好

### 微内核
只实现基本功能，将图形系统，文件系统，设备驱动及通信功能放在内核之外

内核精炼，便于剪裁和移植

系统服务程序运行在用户地址空间，系统的可靠性、稳定性和安全性较高，
可用户分布系统

用户状态和内核状态需要频繁切换，从而导致系统效率不如单体内核


## 嵌入式操作系统


