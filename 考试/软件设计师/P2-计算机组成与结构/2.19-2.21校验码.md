# 计算机组成与体系结构



## 2.19 校验码 
### 什么是检错 什么是纠错

### 什么是码距

任何一种编码都由许多**码字**构成，**任意两个码字之间最少变化的二进制数**就称为数据校验码的**码距**
例如： 4位二进制数表示 16种状态，其有16个码字，码距为： 1

0000 0001 0010 0011 .... 1111
以上任意两个码字之间的差异为1，因此码距为： 1

### 奇偶校验
#### 奇偶校验的编码方法是： 由若干位有效信息（如一个字节），再加上一个二进制未（校验码）组成的校验码
> 整个校验码：有效信息和校验位

- 奇校验：整个校验码中1的个数为奇数
  
- 偶校验：整个校验码中1的个数为偶数

奇偶校验可检查1位的错误(奇数位错误)，不可纠错
> 偶数位错误不能检查出来


### 码距与检错 纠错的关系

## 2.20 循环校验码(CRC)
 - CRC校验 可以检错，不可纠错
### CRC的编码方法是： 在K位信息码之后拼接R位校验码。
应用CRC码的关键是如何从K位信息位简便地得到R位校验位，以及如何从k+r位信息码判断是否出错

### 循环冗余校验码编码规律
过程了解即可

### 什么是模2除法，它和普通的除法有何区别
模2除法是指在做触发运算的过程中不计其仅为的除法



## 2.21 海明校验码 **难点**
可检错，也可纠错

海明校验码的原理是：
在有效信息位中加入几个校验位形成海明码，使码距比较均匀地拉大，并把海明码的每隔二进制位分配到几个奇偶校验组中。当某一位出错后，就会引起有关的几个校验位的值发生变化，这不但可以发生错误，还能支出错误的位置，为自动纠错提供依据。

**海明校验位计算公式：**
2^r >= m + r + 1
- m:有效信息位的位数
- r:海明校验码的编码尾数----一般题目中要计算得出

例题：
求信息1011的海明码
解：
根据2^r >= m + r + 1, m是有效信息位的位数，这里1011 有4位，因此m等于4，
（1）2^r=4+r+1,确定r = 3时，2^3 = 4 + 3 + 1 = 8成立，因此1011的海明码有**3位的校验位**
（2）列出校验公式

 7 6 5 4 3 2 1 位数
 1 0 1 x 1 x x 信息位
       r2  r1 r0 校验位
值 位置
1  7 = 2^2 + 2^1 + 2^0 = r2 + r1 + r0
0  6 = 2^2 + 2^1 = r2 + r1
1  5 = 2^2 + 2^0 = r2 + r0
1  3 = 2^1 + 2^0 = r1 + r0

r2 = 1 ^ 0 ^ 1 = 0 
r1 = 1 ^ 0 ^ 1 = 0 
r0 = 1 ^ 1 ^ 1 = 1 

即：校验码为001， 对应r2r1r0, c插入对应位置
    7 6 5 4 3 2 1 位数
    1 0 1 x 1 x x 信息位
          0   0 1 校验位
结果：
    1 0 1 0 1 0 1


如果收到的时1 0 1 1 1 0 1， 收到的校验码是：101
r2 ^ I4 ^ I3 ^ I2  = 1 ^ 1 ^ 0 ^ 1 = 1
r1 ^ I4 ^ I3 ^ I1  = 0 ^ 1 ^ 0 ^ 1 = 0
r0 ^ I4 ^ I2 ^ I1  = 1 ^ 1 ^ 1 ^ 1 = 0
                                    |
  ————————————————————————————————————
 |
 |
100 ---> 1 * 2^2 + 0 * 2^1 + 0 * 2^0 = 4 也就是第四位出错

取反即可纠错

P10
